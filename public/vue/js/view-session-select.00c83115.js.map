{"version":3,"sources":["webpack:///./src/components/Tabulator.vue?f6ce","webpack:///./src/components/Tabulator.vue?3d5a","webpack:///./src/components/Tabulator.vue","webpack:///./src/components/Tabulator.vue?ef5e","webpack:///./src/components/Tabulator.vue?7438","webpack:///./src/views/session/Select.vue?546d","webpack:///./src/views/session/Select.vue?0421","webpack:///./src/views/session/Select.vue?736d","webpack:///./src/views/session/Select.vue?a803","webpack:///./src/views/session/Select.vue?86cd"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticRenderFns","table","tabulatorElement","layout","columns","rowMouseEnter","onRowMouseEnter","setData","data","fTable","createTable","newData","getTable","_e","row","rowElement","getElement","showRowHover","style","background","$refs","type","Array","required","String","default","Boolean","component","staticClass","attrs","_v","fSessions","name","fSelectSessionButtons","title","field","width","formatter","createSelectSessionColumnButton","disabled","button","sessionName","setSelectSessionButtonsDisabled","window","ipc","setActiveSession","userEmail","cell","document","createElement","textContent","backgroundColor","marginLeft","marginRight","padding","boxShadow","id","getRow","getData","onclick","onSelectSessionButtonClicked","push","getCurrentUser","user","undefined","getSessions","email","components","TabulatorComponent","Tabulator","VBtn","VCol","VContainer","VRow"],"mappings":"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","file":"js/view-session-select.00c83115.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabulator.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabulator.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{ref:\"tabulatorElement\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator';\nimport Tabulator from 'tabulator-tables';\nimport { Procedure } from 'visualcal-common/types/session-view-info';\n\n@Component\nexport default class TabulatorComponent extends Vue {\n\n  private fTable?: Tabulator;\n\n  @Prop({ type: Array, required: true }) columns!: Tabulator.ColumnDefinition[];\n  @Prop({ type: String, required: false, default: 'fitColumns' }) layout!: 'fitData' | 'fitColumns' | 'fitDataFill' | 'fitDataStretch' | 'fitDataTable' | undefined;\n  @Prop({ type: Array, required: false, default: function() { return {}; } }) data!: Procedure[];\n  @Prop({ type: Boolean, required: false, default: false }) showRowHover!: boolean;\n\n  get tabulatorElement() { return this.$refs.tabulatorElement as HTMLDivElement; }\n\n  private createTable() {\n    const table = new Tabulator(this.tabulatorElement, {\n      layout: this.layout,\n      columns: this.columns,\n      rowMouseEnter: this.onRowMouseEnter\n    });\n    table.setData(this.data);\n    return table;\n  }\n\n  private getTable() {\n    if (!this.fTable) this.fTable = this.createTable();\n    return this.fTable;\n  }\n\n  mounted() {\n    this.createTable();\n  }\n\n  @Watch('data')\n  onDataChanged(newData: unknown[]) {\n    const table = this.getTable();\n    table.setData(newData);\n  }\n\n  private onRowMouseEnter(_e: UIEvent, row: Tabulator.RowComponent) {\n    const rowElement = row.getElement();\n    if (this.showRowHover) {\n      rowElement.style.background = '#bbb';\n    } else {\n      rowElement.style.background = 'white';\n    }\n  }\n\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabulator.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabulator.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Tabulator.vue?vue&type=template&id=231387db&\"\nimport script from \"./Tabulator.vue?vue&type=script&lang=ts&\"\nexport * from \"./Tabulator.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Tabulator.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Select.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Select.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"grey\",attrs:{\"fluid\":\"\",\"fill-height\":\"\"}},[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_c('h2',[_vm._v(\"Select a session\")])])],1),_c('v-row',[_c('v-col',[_c('TabulatorComponent',{attrs:{\"columns\":_vm.columns,\"layout\":\"fitColumns\",\"show-row-hover\":false,\"data\":_vm.fSessions}})],1)],1),_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_c('h2',[_vm._v(\"Or create a new one\")])])],1),_c('v-row',[_c('v-col',[_c('v-btn',{attrs:{\"to\":{ name: 'SessionCreate' }}},[_vm._v(\" Create \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component } from 'vue-property-decorator';\nimport TabulatorComponent from '@/components/Tabulator.vue';\nimport Tabulator from 'tabulator-tables';\nimport { Session } from 'visualcal-common/types/session-view-info';\nimport { User } from '@/types/session';\n\n@Component({\n  components: {\n    TabulatorComponent\n  }\n})\nexport default class SessionSelectView extends Vue {\n\n  user?: User;\n  fSessions: Session[] = [];\n  fSelectSessionButtons: HTMLButtonElement[] = [];\n\n  get userEmail() { return this.user ? this.user.email : ''; }\n\n  private setSelectSessionButtonsDisabled(disabled: boolean) {\n    for (const button of this.fSelectSessionButtons) {\n      button.disabled = disabled;\n    }\n  }\n\n  private async onSelectSessionButtonClicked(sessionName: string) {\n    this.setSelectSessionButtonsDisabled(true);\n    await window.ipc.setActiveSession(this.userEmail, sessionName);\n    this.setSelectSessionButtonsDisabled(false);\n  }\n\n  private createSelectSessionColumnButton(cell: Tabulator.CellComponent) {\n    const button = document.createElement('button') as HTMLButtonElement;\n    button.textContent = 'Select';\n    button.style.backgroundColor = '#b5b5b5';\n    button.style.marginLeft = '7px';\n    button.style.marginRight = '7px';\n    button.style.padding = '7px';\n    button.style.width = '90%';\n    button.style.boxShadow = '2px 2px #888888';\n    button.id = (cell.getRow().getData() as Session).name;\n    button.onclick = async () => await this.onSelectSessionButtonClicked((cell.getRow().getData() as Session).name);\n    this.fSelectSessionButtons.push(button);\n    return button;\n  }\n\n  columns: Tabulator.ColumnDefinition[] = [\n      { title: 'Name', field: 'name', width: '40%' },\n      { title: 'Procedure', field: 'procedureName', width: '40%' },\n      { title: '', formatter: this.createSelectSessionColumnButton }\n  ];\n\n  async mounted() {\n    const user = await window.ipc.getCurrentUser();\n    this.user = user ? user : undefined;\n    this.fSessions = await window.ipc.getSessions();\n  }\n\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Select.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Select.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Select.vue?vue&type=template&id=7d405edb&\"\nimport script from \"./Select.vue?vue&type=script&lang=ts&\"\nexport * from \"./Select.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Select.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCol,VContainer,VRow})\n"],"sourceRoot":""}