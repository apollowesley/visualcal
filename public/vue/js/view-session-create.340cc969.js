(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["view-session-create"],{"59b9":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{staticClass:"grey",attrs:{"fill-height":""}},[s("v-row",{staticClass:"ma-10"},[s("v-col",{staticClass:"text-center"},[s("v-row",[s("v-col",[s("h2",[e._v("Create a session for procedure")]),s("h2",[e._v("Selected procedure: "+e._s(e.procedureName))])])],1),s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-text-field",{directives:[{name:"debounce",rawName:"v-debounce:100",value:e.onSessionNameChanged,expression:"onSessionNameChanged",arg:"100"}],attrs:{label:"Name",error:e.sessionExists,hint:e.nameHint,"persistent-hint":""},model:{value:e.session.name,callback:function(t){e.$set(e.session,"name",t)},expression:"session.name"}})],1),s("v-col",{attrs:{cols:"12"}},[s("v-text-field",{attrs:{label:"Description"},model:{value:e.session.description,callback:function(t){e.$set(e.session,"description",t)},expression:"session.description"}})],1)],1),s("v-row",{staticClass:"text-center"},[s("v-col",[s("v-btn",{attrs:{disabled:e.shouldDisableCreateButton},on:{click:function(t){return t.preventDefault(),e.onCreateButtonClicked(t)}}},[e._v(" Create ")])],1),s("v-col",[s("v-btn",{attrs:{to:{name:"SessionSelect"}}},[e._v(" Cancel ")])],1)],1)],1)],1)],1)},r=[],i=(s("b0c0"),s("96cf"),s("1da1")),a=s("d4ec"),o=s("bee2"),c=s("262e"),u=s("2caf"),l=s("9ab4"),h=s("60a3"),p=function(e){Object(c["a"])(s,e);var t=Object(u["a"])(s);function s(){var e;return Object(a["a"])(this,s),e=t.apply(this,arguments),e.procedureName="",e.shouldDisableCreateButton=!0,e.sessionExists=!1,e.session={name:"",procedureName:"",description:"",username:""},e}return Object(o["a"])(s,[{key:"mounted",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,window.ipc.getCurrentUser();case 2:return t=e.sent,this.user=t||void 0,console.info("user",this.user),e.next=7,window.ipc.getActiveProcedureName();case 7:this.procedureName=e.sent;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"checkSessionExists",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,window.ipc.getSessionExists(this.userEmail,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onSessionNameChanged",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.checkSessionExists(this.session.name);case 2:this.sessionExists=e.sent,this.shouldDisableCreateButton=this.session.name.length<=0||this.sessionExists;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onCreateButtonClicked",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.session.username=this.userEmail,this.session.procedureName=this.procedureName,e.prev=2,e.next=5,window.ipc.createSession(this.session);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](2),alert(e.t0.message);case 10:case"end":return e.stop()}}),e,this,[[2,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"userEmail",get:function(){return this.user?this.user.email:""}},{key:"nameHint",get:function(){return this.sessionExists?"Session already exists":""}}]),s}(h["c"]);p=Object(l["a"])([h["a"]],p);var d=p,v=d,m=(s("ae47"),s("2877")),f=s("6544"),w=s.n(f),b=s("8336"),x=s("62ad"),g=s("a523"),k=s("0fd9"),C=s("8654"),y=Object(m["a"])(v,n,r,!1,null,null,null);t["default"]=y.exports;w()(y,{VBtn:b["a"],VCol:x["a"],VContainer:g["a"],VRow:k["a"],VTextField:C["a"]})},ae47:function(e,t,s){"use strict";s("df3f")},df3f:function(e,t,s){}}]);
//# sourceMappingURL=view-session-create.340cc969.js.map