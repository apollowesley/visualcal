(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["view-session-select"],{"011a":function(e,t,n){},7002:function(e,t,n){"use strict";n("011a")},"760d":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"grey",attrs:{fluid:"","fill-height":""}},[n("RenameSessionDialog",{attrs:{type:"Session","old-name":e.fOldSessionName},on:{rename:e.onRename},model:{value:e.fShouldShowRenameSessionDialog,callback:function(t){e.fShouldShowRenameSessionDialog=t},expression:"fShouldShowRenameSessionDialog"}}),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",[n("h2",[e._v("Select a session")])])],1),n("v-row",[n("v-col",[n("TabulatorComponent",{attrs:{columns:e.columns,layout:"fitColumns","show-row-hover":!1,data:e.fSessions}})],1)],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",[n("h2",[e._v("Or create a new one")])])],1),n("v-row",[n("v-col",[n("v-btn",{attrs:{to:{name:"SessionCreate"}}},[e._v(" Create ")])],1)],1)],1)},a=[],o=(n("4de4"),n("b0c0"),n("96cf"),n("1da1")),i=n("b85c"),s=n("d4ec"),u=n("bee2"),c=n("262e"),l=n("2caf"),d=n("9ab4"),m=n("60a3"),h=n("356c"),p=n("f048"),f=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.fButtons=[],e.procedureName="",e.fSessions=[],e.fSelectSessionButtons=[],e.fShouldShowRenameSessionDialog=!1,e.fOldSessionName="",e.columns=[{title:"Name",field:"name",width:"35%"},{title:"Procedure",field:"procedureName",width:"35%"},{title:"",width:"10%",formatter:function(t){return e.createColumnButton(t,"Select",e.onSelectProcedureButtonClicked)}},{title:"",width:"10%",formatter:function(t){return e.createColumnButton(t,"Rename",e.onRenameButtonClicked)}},{title:"",width:"10%",formatter:function(t){return e.createColumnButton(t,"Remove",e.onRemoveProcedureButtonClicked)}}],e}return Object(u["a"])(n,[{key:"setSelectSessionButtonsDisabled",value:function(e){var t,n=Object(i["a"])(this.fSelectSessionButtons);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.disabled=e}}catch(a){n.e(a)}finally{n.f()}}},{key:"onfShouldShowRenameSessionDialogChanged",value:function(){this.fShouldShowRenameSessionDialog||this.setSelectSessionButtonsDisabled(!1)}},{key:"onSelectSessionButtonClicked",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.setSelectSessionButtonsDisabled(!0),e.next=3,window.ipc.setActiveSession(this.userEmail,t,this.procedureName);case 3:this.setSelectSessionButtonsDisabled(!1);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createSelectSessionColumnButton",value:function(e){var t=this,n=document.createElement("button");return n.textContent="Select",n.style.backgroundColor="#b5b5b5",n.style.marginLeft="7px",n.style.marginRight="7px",n.style.padding="7px",n.style.width="90%",n.style.boxShadow="2px 2px #888888",n.id=e.getRow().getData().name,n.onclick=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.onSelectSessionButtonClicked(n.id);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),this.fSelectSessionButtons.push(n),n}},{key:"onSelectProcedureButtonClicked",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.setSelectSessionButtonsDisabled(!0),e.next=3,window.ipc.setActiveSession(this.userEmail,t,this.procedureName);case 3:this.$router.push({name:"ProcedureLoadingServices"});case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onRenameButtonClicked",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.setSelectSessionButtonsDisabled(!0),this.fOldSessionName=t,this.fShouldShowRenameSessionDialog=!0;case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onRemoveProcedureButtonClicked",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.setSelectSessionButtonsDisabled(!0),e.prev=1,e.next=4,window.ipc.removeSession(this.userEmail,this.procedureName,t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),alert(e.t0.message);case 9:return this.setSelectSessionButtonsDisabled(!1),e.next=12,window.ipc.getAllSessionsForActiveUser();case 12:n=e.sent,this.fSessions=n.filter((function(e){return e.procedureName===r.procedureName}));case 14:case"end":return e.stop()}}),e,this,[[1,6]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createColumnButton",value:function(e,t,n){var r=e.getRow().getData(),a=document.createElement("button");return a.textContent=t,a.style.backgroundColor="#b5b5b5",a.style.marginLeft="3px",a.style.marginRight="3px",a.style.paddingTop="3px",a.style.paddingBottom="3px",a.style.width="90%",a.style.boxShadow="2px 2px #888888",a.id="session.name-".concat(t),a.onclick=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n(r.name);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),this.fButtons.push(a),a}},{key:"mounted",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,window.ipc.getCurrentUser();case 2:return t=e.sent,this.user=t||void 0,e.next=6,window.ipc.getActiveProcedureName();case 6:return this.procedureName=e.sent,e.next=9,window.ipc.getAllSessionsForActiveUser();case 9:this.fSessions=e.sent.filter((function(e){return e.procedureName===n.procedureName}));case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onRename",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.fShouldShowRenameSessionDialog=!1,e.prev=1,e.next=4,window.ipc.renameSession(this.userEmail,this.procedureName,this.fOldSessionName,t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),alert(e.t0.message);case 9:return e.next=11,window.ipc.getAllSessionsForActiveUser();case 11:this.fSessions=e.sent.filter((function(e){return e.procedureName===n.procedureName}));case 12:case"end":return e.stop()}}),e,this,[[1,6]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"userEmail",get:function(){return this.user?this.user.email:""}}]),n}(m["Vue"]);Object(d["a"])([Object(m["Watch"])("fShouldShowRenameSessionDialog")],f.prototype,"onfShouldShowRenameSessionDialogChanged",null),f=Object(d["a"])([Object(m["Component"])({components:{TabulatorComponent:h["default"],RenameSessionDialog:p["a"]}})],f);var v=f,w=v,S=(n("7002"),n("2877")),b=n("6544"),g=n.n(b),y=n("8336"),R=n("62ad"),k=n("a523"),C=n("0fd9"),x=Object(S["a"])(w,r,a,!1,null,null,null);t["default"]=x.exports;g()(x,{VBtn:y["a"],VCol:R["a"],VContainer:k["a"],VRow:C["a"]})},ec68:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.passwordRules=t.requiredRule=void 0;var r=n("f5e2");t.requiredRule=function(e){return e&&e.length>0||"Required"},t.passwordRules={required:t.requiredRule,min:function(e){return e&&e.length>=8||"Min 8 characters"},email:function(e){return r.isValidEmailAddress(e)||"Please enter a valid email address"}}},f048:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{value:e.value}},[n("v-card",[n("v-card-title",{staticClass:"headline grey lighten-2"},[e._v(" Renaming "+e._s(e.type)+" - "+e._s(e.oldName)+" ")]),n("v-container",[n("v-row",[n("v-col",[n("v-text-field",{attrs:{rules:e.fNewNameRules,"aria-required":"",label:"New "+e.type+" Name"},model:{value:e.fNewName,callback:function(t){e.fNewName=t},expression:"fNewName"}})],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary"},on:{click:e.onOkButtonClicked}},[e._v(" Rename ")]),n("v-btn",{on:{click:e.onCancelButtonClicked}},[e._v(" Cancel ")])],1)],1)],1)},a=[],o=(n("96cf"),n("1da1")),i=n("d4ec"),s=n("bee2"),u=n("262e"),c=n("2caf"),l=n("9ab4"),d=n("60a3"),m=n("ec68"),h=function(e){Object(u["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.apply(this,arguments),e.fNewNameRules=[m["requiredRule"]],e.fNewName="",e}return Object(s["a"])(n,[{key:"onOldNameChanged",value:function(){this.fNewName=this.oldName}},{key:"onOkButtonClicked",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$emit("rename",this.fNewName),this.close();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onCancelButtonClicked",value:function(){this.close()}},{key:"close",value:function(){this.$emit("input",!1)}}]),n}(d["Vue"]);Object(l["a"])([Object(d["Prop"])({type:Boolean,required:!0})],h.prototype,"value",void 0),Object(l["a"])([Object(d["Prop"])({type:String,required:!0})],h.prototype,"type",void 0),Object(l["a"])([Object(d["Prop"])({type:String,required:!0})],h.prototype,"oldName",void 0),Object(l["a"])([Object(d["Watch"])("oldName")],h.prototype,"onOldNameChanged",null),h=Object(l["a"])([d["Component"]],h);var p=h,f=p,v=n("2877"),w=n("6544"),S=n.n(w),b=n("8336"),g=n("b0af"),y=n("99d9"),R=n("62ad"),k=n("a523"),C=n("169a"),x=n("ce7e"),N=n("0fd9"),O=n("2fa4"),j=n("8654"),B=Object(v["a"])(f,r,a,!1,null,null,null);t["a"]=B.exports;S()(B,{VBtn:b["a"],VCard:g["a"],VCardActions:y["a"],VCardTitle:y["c"],VCol:R["a"],VContainer:k["a"],VDialog:C["a"],VDivider:x["a"],VRow:N["a"],VSpacer:O["a"],VTextField:j["a"]})},f5e2:function(e,t,n){"use strict";n.r(t),n.d(t,"isValidEmailAddress",(function(){return r}));var r=function(e){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)}}}]);
//# sourceMappingURL=view-session-select.dcd60ce8.js.map