(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["view-session-select"],{"011a":function(e,t,n){},6471:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{value:e.value,"max-width":"400",persistent:""}},[n("v-card",[n("v-card-title",{staticClass:"headline grey lighten-2"},[e._v(" Removing "+e._s(e.type)+" - "+e._s(e.itemName)+" ")]),n("div",{staticStyle:{margin:"10px"}},[e._v("Are you sure?")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.close(!0)}}},[e._v(" Yes ")]),n("v-btn",{on:{click:function(t){return e.close(!1)}}},[e._v(" No ")])],1)],1)],1)},o=[],a=n("d4ec"),i=n("bee2"),s=n("262e"),c=n("2caf"),u=n("9ab4"),l=n("60a3"),d=function(e){Object(s["a"])(n,e);var t=Object(c["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,[{key:"close",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&this.$emit("remove",this.itemName),this.$emit("input",!1)}}]),n}(l["Vue"]);Object(u["a"])([Object(l["Prop"])({type:Boolean,required:!0})],d.prototype,"value",void 0),Object(u["a"])([Object(l["Prop"])({type:String,required:!0})],d.prototype,"text",void 0),Object(u["a"])([Object(l["Prop"])({type:String,required:!0})],d.prototype,"itemName",void 0),Object(u["a"])([Object(l["Prop"])({type:String,required:!0})],d.prototype,"type",void 0),d=Object(u["a"])([l["Component"]],d);var m=d,h=m,p=n("2877"),f=n("6544"),v=n.n(f),S=n("8336"),w=n("b0af"),b=n("99d9"),g=n("169a"),y=n("2fa4"),R=Object(p["a"])(h,r,o,!1,null,null,null);t["a"]=R.exports;v()(R,{VBtn:S["a"],VCard:w["a"],VCardActions:b["a"],VCardTitle:b["c"],VDialog:g["a"],VSpacer:y["a"]})},7002:function(e,t,n){"use strict";n("011a")},"760d":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"grey",attrs:{fluid:"","fill-height":""}},[n("RenameDialog",{attrs:{type:"Session","old-name":e.fOldSessionName},on:{rename:e.onRename},model:{value:e.fShouldShowRenameSessionDialog,callback:function(t){e.fShouldShowRenameSessionDialog=t},expression:"fShouldShowRenameSessionDialog"}}),n("RemoveDialog",{attrs:{text:e.fRemoveSessionText,"item-name":e.fRemoveSessionName,type:"session"},on:{remove:e.onRemoveButtonClicked},model:{value:e.fShouldShowRemoveSessionDialog,callback:function(t){e.fShouldShowRemoveSessionDialog=t},expression:"fShouldShowRemoveSessionDialog"}}),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",[n("h2",[e._v("Select a session")])])],1),n("v-row",[n("v-col",[n("TabulatorComponent",{attrs:{columns:e.columns,layout:"fitColumns","show-row-hover":!1,data:e.fSessions}})],1)],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",[n("h2",[e._v("Or create a new one")])])],1),n("v-row",[n("v-col",[n("v-btn",{attrs:{to:{name:"SessionCreate"}}},[e._v(" Create ")])],1)],1)],1)},o=[],a=(n("4de4"),n("b0c0"),n("96cf"),n("1da1")),i=n("b85c"),s=n("d4ec"),c=n("bee2"),u=n("262e"),l=n("2caf"),d=n("9ab4"),m=n("60a3"),h=n("356c"),p=n("f048"),f=n("6471"),v=function(e){Object(u["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.fButtons=[],e.procedureName="",e.fSessions=[],e.fSelectSessionButtons=[],e.fShouldShowRenameSessionDialog=!1,e.fOldSessionName="",e.fShouldShowRemoveSessionDialog=!1,e.fRemoveSessionText="",e.fRemoveSessionName="",e.columns=[{title:"Name",field:"name",width:"35%"},{title:"Procedure",field:"procedureName",width:"35%"},{title:"",width:"10%",formatter:function(t){return e.createColumnButton(t,"Select",e.onSelectButtonClicked)}},{title:"",width:"10%",formatter:function(t){return e.createColumnButton(t,"Rename",e.onRenameButtonClicked)}},{title:"",width:"10%",formatter:function(t){return e.createColumnButton(t,"Remove",e.showRemoveDialog)}}],e}return Object(c["a"])(n,[{key:"showRemoveDialog",value:function(e){this.fRemoveSessionText='Are you sure you want to delete session named "'.concat(e,'"?'),this.fRemoveSessionName=e,this.fShouldShowRemoveSessionDialog=!0}},{key:"setSelectSessionButtonsDisabled",value:function(e){var t,n=Object(i["a"])(this.fSelectSessionButtons);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.disabled=e}}catch(o){n.e(o)}finally{n.f()}}},{key:"onfShouldShowRenameSessionDialogChanged",value:function(){this.fShouldShowRenameSessionDialog||this.setSelectSessionButtonsDisabled(!1)}},{key:"onSelectSessionButtonClicked",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.setSelectSessionButtonsDisabled(!0),e.next=3,window.ipc.setActiveSession(this.userEmail,t,this.procedureName);case 3:this.setSelectSessionButtonsDisabled(!1);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createSelectSessionColumnButton",value:function(e){var t=this,n=document.createElement("button");return n.textContent="Select",n.style.backgroundColor="#b5b5b5",n.style.marginLeft="7px",n.style.marginRight="7px",n.style.padding="7px",n.style.width="90%",n.style.boxShadow="2px 2px #888888",n.id=e.getRow().getData().name,n.onclick=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.onSelectSessionButtonClicked(n.id);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),this.fSelectSessionButtons.push(n),n}},{key:"onSelectButtonClicked",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.setSelectSessionButtonsDisabled(!0),e.next=3,window.ipc.setActiveSession(this.userEmail,t,this.procedureName);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onRenameButtonClicked",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.setSelectSessionButtonsDisabled(!0),this.fOldSessionName=t,this.fShouldShowRenameSessionDialog=!0;case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onRemoveButtonClicked",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.fShouldShowRemoveSessionDialog=!1,this.setSelectSessionButtonsDisabled(!0),e.prev=2,e.next=5,window.ipc.removeSession(this.userEmail,this.procedureName,t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](2),alert(e.t0.message);case 10:return this.setSelectSessionButtonsDisabled(!1),e.next=13,window.ipc.getAllSessionsForActiveUser();case 13:n=e.sent,this.fSessions=n.filter((function(e){return e.procedureName===r.procedureName}));case 15:case"end":return e.stop()}}),e,this,[[2,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createColumnButton",value:function(e,t,n){var r=e.getRow().getData(),o=document.createElement("button");return o.textContent=t,o.style.backgroundColor="#b5b5b5",o.style.marginLeft="3px",o.style.marginRight="3px",o.style.paddingTop="3px",o.style.paddingBottom="3px",o.style.width="90%",o.style.boxShadow="2px 2px #888888",o.id="session.name-".concat(t),o.onclick=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n(r.name);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),this.fButtons.push(o),o}},{key:"mounted",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,window.ipc.getCurrentUser();case 2:return t=e.sent,this.user=t||void 0,e.next=6,window.ipc.getActiveProcedureName();case 6:return this.procedureName=e.sent,e.next=9,window.ipc.getAllSessionsForActiveUser();case 9:this.fSessions=e.sent.filter((function(e){return e.procedureName===n.procedureName}));case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onRename",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.fShouldShowRenameSessionDialog=!1,e.prev=1,e.next=4,window.ipc.renameSession(this.userEmail,this.procedureName,this.fOldSessionName,t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),alert(e.t0.message);case 9:return e.next=11,window.ipc.getAllSessionsForActiveUser();case 11:this.fSessions=e.sent.filter((function(e){return e.procedureName===n.procedureName}));case 12:case"end":return e.stop()}}),e,this,[[1,6]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"userEmail",get:function(){return this.user?this.user.email:""}}]),n}(m["Vue"]);Object(d["a"])([Object(m["Watch"])("fShouldShowRenameSessionDialog")],v.prototype,"onfShouldShowRenameSessionDialogChanged",null),v=Object(d["a"])([Object(m["Component"])({components:{TabulatorComponent:h["default"],RenameDialog:p["a"],RemoveDialog:f["a"]}})],v);var S=v,w=S,b=(n("7002"),n("2877")),g=n("6544"),y=n.n(g),R=n("8336"),O=n("62ad"),k=n("a523"),x=n("0fd9"),C=Object(b["a"])(w,r,o,!1,null,null,null);t["default"]=C.exports;y()(C,{VBtn:R["a"],VCol:O["a"],VContainer:k["a"],VRow:x["a"]})},ec68:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.passwordRules=t.requiredRule=void 0;var r=n("f5e2");t.requiredRule=function(e){return e&&e.length>0||"Required"},t.passwordRules={required:t.requiredRule,min:function(e){return e&&e.length>=8||"Min 8 characters"},email:function(e){return r.isValidEmailAddress(e)||"Please enter a valid email address"}}},f048:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{value:e.value}},[n("v-card",[n("v-card-title",{staticClass:"headline grey lighten-2"},[e._v(" Renaming "+e._s(e.type)+" - "+e._s(e.oldName)+" ")]),n("v-container",[n("v-row",[n("v-col",[n("v-text-field",{attrs:{rules:e.fNewNameRules,"aria-required":"",label:"New "+e.type+" Name"},model:{value:e.fNewName,callback:function(t){e.fNewName=t},expression:"fNewName"}})],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary"},on:{click:e.onOkButtonClicked}},[e._v(" Rename ")]),n("v-btn",{on:{click:e.onCancelButtonClicked}},[e._v(" Cancel ")])],1)],1)],1)},o=[],a=(n("96cf"),n("1da1")),i=n("d4ec"),s=n("bee2"),c=n("262e"),u=n("2caf"),l=n("9ab4"),d=n("60a3"),m=n("ec68"),h=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.apply(this,arguments),e.fNewNameRules=[m["requiredRule"]],e.fNewName="",e}return Object(s["a"])(n,[{key:"onOldNameChanged",value:function(){this.fNewName=this.oldName}},{key:"onOkButtonClicked",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$emit("rename",this.fNewName),this.close();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onCancelButtonClicked",value:function(){this.close()}},{key:"close",value:function(){this.$emit("input",!1)}}]),n}(d["Vue"]);Object(l["a"])([Object(d["Prop"])({type:Boolean,required:!0})],h.prototype,"value",void 0),Object(l["a"])([Object(d["Prop"])({type:String,required:!0})],h.prototype,"type",void 0),Object(l["a"])([Object(d["Prop"])({type:String,required:!0})],h.prototype,"oldName",void 0),Object(l["a"])([Object(d["Watch"])("oldName")],h.prototype,"onOldNameChanged",null),h=Object(l["a"])([d["Component"]],h);var p=h,f=p,v=n("2877"),S=n("6544"),w=n.n(S),b=n("8336"),g=n("b0af"),y=n("99d9"),R=n("62ad"),O=n("a523"),k=n("169a"),x=n("ce7e"),C=n("0fd9"),N=n("2fa4"),j=n("8654"),B=Object(v["a"])(f,r,o,!1,null,null,null);t["a"]=B.exports;w()(B,{VBtn:b["a"],VCard:g["a"],VCardActions:y["a"],VCardTitle:y["c"],VCol:R["a"],VContainer:O["a"],VDialog:k["a"],VDivider:x["a"],VRow:C["a"],VSpacer:N["a"],VTextField:j["a"]})},f5e2:function(e,t,n){"use strict";n.r(t),n.d(t,"isValidEmailAddress",(function(){return r}));var r=function(e){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)}}}]);
//# sourceMappingURL=view-session-select.d6f43c99.js.map